<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>17Tools</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
        }

        #sidebar {
            width: 250px;
            height: 100vh;
            background-color: #f1f1f1;
            transition: 0.3s;
            overflow-y: auto;
            padding-top: 50px;
        }

        #sidebar.collapsed {
            width: 0;
        }

        #content {
            flex-grow: 1;
            height: 100vh;
            padding: 20px;
        }

        #toggle-btn {
            position: fixed;
            left: 10px;
            top: 10px;
            z-index: 100;
            padding: 8px 15px;
            cursor: pointer;
        }

        .file-item {
            padding: 10px;
            cursor: pointer;
        }

        .file-item:hover {
            background-color: #ddd;
        }

        #footer {
            position: fixed;
            bottom: 0;
            right: 0;
            background-color: #f1f1f1;
            padding: 10px;
            text-align: center;
            font-size: 14px;
            transition: 0.3s;
            width: calc(100% - 250px);
        }

        #footer.full-width {
            width: 100%;
        }
    </style>
</head>

<body>
    <button id="toggle-btn">&lt;&lt;</button>
    <div id="sidebar">
        <!-- 在这里直接列出你的文件 -->
        <div class="file-item" data-file="Welcome.html">Main 主页</div>
        <div class="file-item" data-file="Calculator.html">Calculator 极速计算</div>
        <div class="file-item" data-file="Replacer.html">Replacer 文本替换</div>
        <div class="file-item" data-file="Transformer.html">Transformer 文本转换</div>
        <div class="file-item" data-file="About.html">About 关于</div>
    </div>

    <!-- 默认打开Welcome页面 -->
    <div id="content">
        <iframe id="content-frame" style="width: 100%; height: calc(100% - 40px); border: none;"
            src="items/Welcome.html"></iframe>
    </div>

    <!-- Footer: 访问量统计显示 -->
    <div id="footer">
        <span id="busuanzi_container_site_pv">
            本站总访问量<span id="busuanzi_value_site_pv"></span>次
        </span>
        &nbsp;|&nbsp;
        <span id="busuanzi_container_site_uv">
            访客数<span id="busuanzi_value_site_uv"></span>人次
        </span>
        &nbsp;|&nbsp;
        <span>
            <a href="https://www.wow17.com" target="_blank" style="text-decoration: none; color: #666;">了解更多→WOW17</a>
        </span>
    </div>

    <!-- 添加不蒜子脚本 -->
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <script>
        // 切换侧边栏
        document.getElementById('toggle-btn').addEventListener('click', function () {
            const sidebar = document.getElementById('sidebar');
            const btn = document.getElementById('toggle-btn');
            const footer = document.getElementById('footer');
            sidebar.classList.toggle('collapsed');
            footer.classList.toggle('full-width');

            // 根据侧边栏状态更新按钮文本
            if (sidebar.classList.contains('collapsed')) {
                btn.innerHTML = '>>';
            } else {
                btn.innerHTML = '<<';
            }
        });

        // 为所有文件项添加点击事件
        document.querySelectorAll('.file-item').forEach(item => {
            item.addEventListener('click', () => {
                const fileName = item.getAttribute('data-file');
                document.getElementById('content-frame').src = 'items/' + fileName;
            });
        });

        // 禁用右键菜单
        document.addEventListener('contextmenu', function (e) {
            e.preventDefault();
            return false;
        }, false);

        // 禁用F12键和其他开发者工具快捷键
        document.addEventListener('keydown', function (e) {
            // F12键
            if (e.keyCode === 123) {
                e.preventDefault();
                return false;
            }

            // Ctrl+Shift+I 组合键
            if (e.ctrlKey && e.shiftKey && e.keyCode === 73) {
                e.preventDefault();
                return false;
            }

            // Ctrl+Shift+J 组合键
            if (e.ctrlKey && e.shiftKey && e.keyCode === 74) {
                e.preventDefault();
                return false;
            }

            // Ctrl+Shift+C 组合键
            if (e.ctrlKey && e.shiftKey && e.keyCode === 67) {
                e.preventDefault();
                return false;
            }
        }, false);

        // 确保iframe中也禁用右键和F12
        document.getElementById('content-frame').onload = function () {
            try {
                const frameDoc = this.contentDocument || this.contentWindow.document;

                // 禁用iframe中的右键菜单
                frameDoc.addEventListener('contextmenu', function (e) {
                    e.preventDefault();
                    return false;
                }, false);

                // 禁用iframe中的F12和其他开发者工具快捷键
                frameDoc.addEventListener('keydown', function (e) {
                    // F12键
                    if (e.keyCode === 123) {
                        e.preventDefault();
                        return false;
                    }

                    // 其他开发者工具组合键
                    if (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 74 || e.keyCode === 67)) {
                        e.preventDefault();
                        return false;
                    }
                }, false);
            } catch (e) {
                // 如果跨域访问iframe内容失败，则静默处理
                console.log("无法访问iframe内容，可能是跨域限制");
            }
        };
    </script>
</body>

</html>